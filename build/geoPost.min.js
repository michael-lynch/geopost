/*!

Name: Get a Postal Code Based on Your Location
Dependencies: jQuery, HTML5
Author: Michael Lynch
Author URL: http://michaelynch.com
Date Created: March 4, 2013
Licensed under the MIT license

*/

(function(e){e.fn.geoPost=function(t){function f(){alert("Geo Location failed.")}function l(t){s=new google.maps.Geocoder;o=new google.maps.LatLng(t.coords.latitude,t.coords.longitude);s.geocode({latLng:o},function(t,n){if(n==google.maps.GeocoderStatus.OK){e.each(t,function(t){if(this.types[0]=="postal_code"){u=this["address_components"][0]["long_name"];if(u.length>3){e("#"+r.settings.postalCodeTarget).val(u);return false}}})}})}if(!this.length){return this}var n={postalCodeTarget:"postal-code"};var r=this;var i=e(this);r.settings={};r.settings=e.extend({},n,t);var s;var o;var u;var a=function(){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(l,f,{timeout:5e3})}else{alert("Your browser does not support Geo Location.")}};e(this).click(function(e){e.preventDefault();a()})}})(jQuery)